{
  "swagger": "2.0",
  "info": {
    "version": "2022-03-01-preview",
    "title": "AzureArcDataManagementClient",
    "description": "The AzureArcData management API provides a RESTful set of web APIs to manage Azure Data Services on Azure Arc Resources."
  },
  "paths": {
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.AzureArcData/sqlManagedInstances/{sqlManagedInstanceName}/failoverGroups": {
      "get": {
        "tags": [
          "FailoverGroups"
        ],
        "operationId": "FailoverGroups_List",
        "summary": "List the failover groups associated with the given SQL managed instance.",
        "parameters": [
          {
            "$ref": "#/parameters/subscriptionId"
          },
          {
            "$ref": "#/parameters/resourceGroupName"
          },
          {
            "$ref": "#/parameters/sqlManagedInstanceName"
          },
          {
            "$ref": "#/parameters/apiVersion"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "./failoverGroups.json#/definitions/FailoverGroupListResult"
            }
          },
          "default": {
            "description": "*** Error Responses: ***\n\n * 400 InvalidParameterValue - An invalid value was given to parameter.\n\n * 400 InvalidCrossSubscriptionVmMove - Invalid cross subscription move of resource.\n\n * 404 ResourceNotFound - The requested resource was not found.",
            "schema": {
              "$ref": "./common.json#/definitions/ErrorResponse"
            }
          }
        },
        "x-ms-pageable": {
          "nextLinkName": "nextLink"
        }
      }
    },
    "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.AzureArcData/sqlManagedInstances/{sqlManagedInstanceName}/failoverGroups/{failoverGroupName}": {
      "put": {
        "tags": [
          "FailoverGroups"
        ],
        "operationId": "FailoverGroups_Create",
        "description": "Creates or replaces an failover group resource.",
        "parameters": [
          {
            "$ref": "#/parameters/subscriptionId"
          },
          {
            "$ref": "#/parameters/resourceGroupName"
          },
          {
            "name": "failoverGroupResource",
            "description": "desc",
            "required": true,
            "in": "body",
            "schema": {
              "$ref": "./failoverGroups.json#/definitions/FailoverGroupResource"
            }
          },
          {
            "$ref": "#/parameters/sqlManagedInstanceName"
          },
          {
            "$ref": "#/parameters/failoverGroupName"
          },
          {
            "$ref": "#/parameters/apiVersion"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "./failoverGroups.json#/definitions/FailoverGroupResource"
            }
          },
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "./failoverGroups.json#/definitions/FailoverGroupResource"
            }
          },
          "default": {
            "description": "*** Error Responses: ***",
            "schema": {
              "$ref": "./common.json#/definitions/ErrorResponse"
            }
          }
        },
        "x-ms-long-running-operation": true,
        "x-ms-long-running-operation-options": {
          "final-state-via": "azure-async-operation"
        }
      },
      "delete": {
        "tags": [
          "FailoverGroups"
        ],
        "operationId": "FailoverGroups_Delete",
        "description": "Deletes an failover group resource",
        "parameters": [
          {
            "$ref": "#/parameters/subscriptionId"
          },
          {
            "$ref": "#/parameters/resourceGroupName"
          },
          {
            "$ref": "#/parameters/sqlManagedInstanceName"
          },
          {
            "$ref": "#/parameters/failoverGroupName"
          },
          {
            "$ref": "#/parameters/apiVersion"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully deleted the failover group."
          },
          "202": {
            "description": "Resource deletion is in progress."
          },
          "204": {
            "description": "The specified failover group does not exist."
          },
          "default": {
            "description": "*** Error Responses: ***",
            "schema": {
              "$ref": "./common.json#/definitions/ErrorResponse"
            }
          }
        },
        "x-ms-long-running-operation": true
      },
      "get": {
        "tags": [
          "FailoverGroups"
        ],
        "operationId": "FailoverGroups_Get",
        "description": "Retrieves an failover group resource",
        "parameters": [
          {
            "$ref": "#/parameters/subscriptionId"
          },
          {
            "$ref": "#/parameters/resourceGroupName"
          },
          {
            "$ref": "#/parameters/sqlManagedInstanceName"
          },
          {
            "$ref": "#/parameters/failoverGroupName"
          },
          {
            "$ref": "#/parameters/apiVersion"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "./failoverGroups.json#/definitions/FailoverGroupResource"
            }
          },
          "default": {
            "description": "*** Error Responses: ***",
            "schema": {
              "$ref": "./common.json#/definitions/ErrorResponse"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "FailoverGroupListResult": {
      "description": "A list of failover groups",
      "type": "object",
      "properties": {
        "value": {
          "description": "Array of results.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/FailoverGroupResource"
          },
          "readOnly": true
        },
        "nextLink": {
          "description": "Link to retrieve next page of results.",
          "type": "string",
          "readOnly": true
        }
      }
    },
    "FailoverGroupResource": {
      "type": "object",
      "description": "Failover group resource",
      "allOf": [
        {
          "$ref": "../../../../../common-types/resource-management/v3/types.json#/definitions/ProxyResource"
        }
      ],
      "properties": {
        "properties": {
          "$ref": "#/definitions/FailoverGroupProperties",
          "description": "null",
          "x-ms-client-flatten": false
        }
      },
      "required": [
        "properties"
      ]
    },
    "FailoverGroupProperties": {
      "type": "object",
      "description": "The properties of an failover group resource",
      "properties": {
        "provisioningState": {
          "type": "string",
          "description": "The provisioning state of the failover group resource.",
          "readOnly": true
        },
        "spec": {
          "$ref": "#/definitions/FailoverGroupSpec",
          "description": "null",
          "x-ms-client-flatten": false
        },
        "status": {
          "$ref": "#/definitions/FailoverGroupStatus",
          "description": "null",
          "x-ms-client-flatten": false,
          "readOnly": true
        }
      },
      "required": [
        "spec"
      ]
    },
    "FailoverGroupSpec": {
      "type": "object",
      "properties": {
        "sharedName": {
          "type": "string"
        },
        "partnerInstances": {
          "description": "List of partner server information for the failover group.",
          "type": "array",
          "items": {
            "$ref": "#/definitions/PartnerInfo"
          },
          "x-ms-mutability": [
            "read",
            "create"
          ]
        },
        "role": {
          "type": "string"
        }
      }
    },
    "FailoverGroupStatus": {
      "type": "object",
      "properties": {
        "results": {
          "type": "string"
        },
        "role": {
          "type": "string"
        },
        "observedGeneration": {
          "type": "integer"
        },
        "runningVersion": {
          "type": "string"
        },
        "endpoints": {
          "type": "object",
          "additionalProperties": {
            "type": "string"
          }
        },
        "state": {
          "type": "string"
        },
        "healthState": {
          "type": "string"
        },
        "reason": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "lastUpdateTime": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "PartnerInfo": {
      "description": "Partner server information for the failover group.",
      "required": [
        "id",
        "partnerMirroringURL",
        "partnerMirroringCert"
      ],
      "type": "object",
      "properties": {
        "id": {
          "description": "Resource identifier of the partner server.",
          "type": "string"
        },
        "partnerMirroringURL": {
          "type": "string"
        },
        "partnerMirroringCert": {
          "type": "string"
        }
      }
    }
  },
  "parameters": {
    "subscriptionId": {
      "name": "subscriptionId",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The ID of the Azure subscription",
      "x-ms-parameter-location": "client"
    },
    "resourceGroupName": {
      "name": "resourceGroupName",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The name of the Azure resource group",
      "x-ms-parameter-location": "method"
    },
    "location": {
      "name": "location",
      "in": "path",
      "required": true,
      "type": "string",
      "description": "The Azure region to use for the request",
      "x-ms-parameter-location": "method"
    },
    "apiVersion": {
      "name": "api-version",
      "in": "query",
      "required": true,
      "type": "string",
      "description": "The API version to use for the request",
      "x-ms-parameter-location": "client"
    },
    "sqlManagedInstanceName": {
      "name": "sqlManagedInstanceName",
      "description": "Name of SQL Managed Instance",
      "in": "path",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method"
    },
    "failoverGroupName": {
      "name": "failoverGroupName",
      "description": "Name of the failover group.",
      "in": "path",
      "required": true,
      "type": "string",
      "x-ms-parameter-location": "method"
    }
  },
  "securityDefinitions": {
    "azure_auth": {
      "type": "oauth2",
      "description": "Azure Active Directory OAuth2 Flow",
      "flow": "implicit",
      "authorizationUrl": "https://login.microsoftonline.com/common/oauth2/authorize",
      "scopes": {
        "user_impersonation": "impersonate your user account"
      }
    }
  }
}