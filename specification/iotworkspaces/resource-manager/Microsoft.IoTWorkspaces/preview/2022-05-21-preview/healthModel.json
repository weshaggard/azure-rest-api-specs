{
	"x-generator": "NSwag v13.16.0.0 (NJsonSchema v10.7.1.0 (Newtonsoft.Json v12.0.0.0))",
	"swagger": "2.0",
	"info": {
		"title": "Azure Device Registry Resource Provider Service",
		"version": "2022-05-21-preview"
	},
	"host": "management.azure.com",
	"schemes": [
		"https"
	],
	"consumes": [
		"application/json"
	],
	"produces": [
		"application/json"
	],
	"paths": {
		"/subscriptions/{subscriptionId}/providers/Microsoft.IoTWorkspaces/healthModels": {
			"get": {
				"tags": [
					"HealthModels"
				],
				"operationId": "List_Health_Model_Subscription",
				"description": "List all health models in a subscription.",
				"parameters": [
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
					}
				],
				"responses": {
					"200": {
						"description": "",
						"schema": {
							"$ref": "#/definitions/HealthModelResponseList"
						}
					}
				}
			}
		},
		"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTWorkspaces/healthModels": {
			"get": {
				"tags": [
					"HealthModels"
				],
				"operationId": "List_Health_Model_In_ResourceGroup",
				"description": "List all health models in a resource group.",
				"parameters": [
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
					}
				],
				"responses": {
					"200": {
						"description": "",
						"schema": {
							"$ref": "#/definitions/HealthModelResponseList"
						}
					}
				},
				"x-ms-pageable": {
					"nextLinkName": "nextLink"
				}
			}
		},
		"/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.IoTWorkspaces/healthModels/{healthModelName}": {
			"put": {
				"tags": [
					"RootHealthModel"
				],
				"operationId": "Create_Or_Replace_Health_Model",
				"description": "Create a new health model or replace an existing health model.",
				"parameters": [
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
					},
					{
						"$ref": "#/parameters/healthModelNameParameter"
					},
					{
						"name": "health_model",
						"in": "body",
						"required": true,
						"description": "Resource create parameters.",
						"schema": {
							"$ref": "#/definitions/HealthModel"
						}
					}
				],
				"responses": {
					"200": {
						"x-nullable": false,
						"description": "",
						"schema": {
							"$ref": "#/definitions/HealthModel"
						}
					}
				}
			},
			"patch": {
				"tags": [
					"RootHealthModel"
				],
				"operationId": "Update_Health_Model",
				"description": "Update specific health model properties.",
				"parameters": [
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
					},
					{
						"$ref": "#/parameters/healthModelNameParameter"
					},
					{
						"name": "healthModel",
						"in": "body",
						"required": true,
						"description": "Health Model Parameters to patch",
						"schema": {
							"$ref": "#/definitions/HealthModel"
						}
					}
				],
				"responses": {
					"200": {
						"x-nullable": false,
						"description": "Health model is created successfully.",
						"schema": {
							"$ref": "#/definitions/HealthModel"
						}
					}
				}
			},
			"delete": {
				"tags": [
					"RootHealthModel"
				],
				"operationId": "Delete_Health_Model",
				"description": "Delete a health model.",
				"parameters": [
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
					},
					{
						"$ref": "#/parameters/healthModelNameParameter"
					}
				],
				"responses": {
					"200": {
						"description": ""
					}
				}
			},
			"get": {
				"tags": [
					"RootHealthModel"
				],
				"operationId": "Read_Health_Model.",
				"description": "Retrieve a single health model.",
				"parameters": [
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ApiVersionParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/SubscriptionIdParameter"
					},
					{
						"$ref": "../../../../../common-types/resource-management/v3/types.json#/parameters/ResourceGroupNameParameter"
					},
					{
						"$ref": "#/parameters/healthModelNameParameter"
					}
				],
				"responses": {
					"200": {
						"description": "",
						"schema": {
							"$ref": "#/definitions/HealthModel"
						}
					}
				}
			}
		}
	},
	"parameters": {
		"healthModelNameParameter": {
			"name": "healthModelName",
			"in": "path",
			"required": true,
			"type": "string",
			"maxLength": 64,
			"minLength": 3
		}
	},
	"definitions": {
		"HealthModelResponseList": {
			"type": "object",
			"properties": {
				"value": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/HealthModel"
					}
				},
				"nextLink": {
					"type": "string"
				}
			},
			"description": "List of Health Models."
		},
		"HealthModel": {
			"description": "Defines the health model properties.",
			"type": "object",
			"properties": {
				"properties": {
					"$ref": "#/definitions/HealthModelProperties",
					"description": "Resource properties."
				}
			},
			"allOf": [
				{
					"$ref": "../../../../../common-types/resource-management/v3/types.json#/definitions/TrackedResource"
				}
			]
		},
		"HealthModelProperties": {
			"description": "Defines the health model properties.",
			"type": "object",
			"properties": {
				"healthyCondition": {
					"type": "string"
				},
				"source": {
					"type": "object",
					"properties": {
						"sourceType": {
							"type": "string"
						},
						"endpoint": {
							"type": "string"
						},
						"topic": {
							"type": "string"
						},
						"authentication": {
							"type": "object",
							"properties": {
								"keyvaultUrl": {
									"type": "string"
								},
                "username": {
									"type": "string"
								}
							}
						}
					}
				},
				"target": {
					"type": "object",
					"properties": {
						"targetType": {
							"type": "string"
						},
						"endpoint": {
							"type": "string"
						}
					}
				},
        "tenantId" : {
					"readOnly": true,
					"type" : "string"
				}
			}
		}
	}
}
