{
  "title": "Create DstsServiceAccount",
  "operationId": "DstsServiceAccount_CreateOrUpdate",
  "parameters": {
    "subscriptionId": "mySubscriptionId",
    "resourceGroupName": "myResourceGroup",
    "resourceName": "uswest.acs.dsts.dsts.core.windows.net",
    "api-version": "2021-08-10-privatepreview",
    "dstsServiceAccount": {
      "location": "eastus",
      "properties": {
        "dstsInstance": "uswest-dsts.dsts.core.windows.net",
        "serviceTreeId": "ae53b53f-9347-4198-b9b7-ff4b8228d6a7",
        "displayName": "myDisplayName",
        "groupId": "myGroupId",
        "groupName": "CIsTest",
        "realms": [
          {
            "name": "svc://crpadmin@uswest.acs.dsts.dsts.core.windows.net/",
            "redirectionUrl": "https://uswest.acs.dsts.dsts.core.windows.net/"
          }
        ],
        "claimMappings": [
          {
            "inputType": "http://sts.msft.net/user/Group",
            "inputValue": "GroupName",
            "outputType": "http://schemas.microsoft.com/ws/2008/06/identity/claims/role",
            "outputValue": "PlatformServiceViewer",
            "federation": "MSIT-ADFS-Federation"
          }
        ],
        "accountTags": [
          "Production",
          "ElevatedAccess"
        ],
        "authenticationRequirements": [
          {
            "value": "PTH"
          },
          {
            "value": "SAWEnforcement"
          }
        ]
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/mySubscriptionId/resourceGroups/myResourceGroup/providers/Microsoft.AzureCIS/dstsServiceAccounts/prodUSEastAzcis",
        "name": "uswest.acs.dsts.dsts.core.windows.net",
        "type": "Microsoft.AzureCIS/dstsServiceAccounts",
        "location": "eastus",
        "properties": {
          "provisioningState": "Accepted",
          "dstsInstance": "uswest-dsts.dsts.core.windows.net",
          "serviceTreeId": "ae53b53f-9347-4198-b9b7-ff4b8228d6a7",
          "displayName": "myDisplayName",
          "groupId": "myGroupId",
          "groupName": "CIsTest",
          "realms": [
            {
              "name": "svc://crpadmin@uswest.acs.dsts.dsts.core.windows.net/",
              "redirectionUrl": "https://uswest.acs.dsts.dsts.core.windows.net/"
            }
          ],
          "claimMappings": [
            {
              "inputType": "http://sts.msft.net/user/Group",
              "inputValue": "GroupName",
              "outputType": "http://schemas.microsoft.com/ws/2008/06/identity/claims/role",
              "outputValue": "PlatformServiceViewer",
              "federation": "MSIT-ADFS-Federation"
            }
          ],
          "accountTags": [
            "Production",
            "ElevatedAccess"
          ],
          "authenticationRequirements": [
            {
              "value": "PTH"
            },
            {
              "value": "SAWEnforcement"
            }
          ]
        }
      }
    },
    "201": {
      "body": {
        "id": "/subscriptions/mySubscriptionId/resourceGroups/myResourceGroup/providers/Microsoft.AzureCIS/dstsServiceAccounts/prodUSEastAzcis",
        "name": "uswest.acs.dsts.dsts.core.windows.net",
        "type": "Microsoft.AzureCIS/dstsServiceAccounts",
        "location": "eastus",
        "properties": {
          "provisioningState": "Accepted",
          "dstsInstance": "uswest-dsts.dsts.core.windows.net",
          "serviceTreeId": "ae53b53f-9347-4198-b9b7-ff4b8228d6a7",
          "displayName": "myDisplayName",
          "groupId": "myGroupId",
          "groupName": "CIsTest",
          "realms": [
            {
              "name": "svc://crpadmin@uswest.acs.dsts.dsts.core.windows.net/",
              "redirectionUrl": "https://uswest.acs.dsts.dsts.core.windows.net/"
            }
          ],
          "claimMappings": [
            {
              "inputType": "http://sts.msft.net/user/Group",
              "inputValue": "GroupName",
              "outputType": "http://schemas.microsoft.com/ws/2008/06/identity/claims/role",
              "outputValue": "PlatformServiceViewer",
              "federation": "MSIT-ADFS-Federation"
            }
          ],
          "accountTags": [
            "Production",
            "ElevatedAccess"
          ],
          "authenticationRequirements": [
            {
              "value": "PTH"
            },
            {
              "value": "SAWEnforcement"
            }
          ]
        }
      }
    }
  }
}
