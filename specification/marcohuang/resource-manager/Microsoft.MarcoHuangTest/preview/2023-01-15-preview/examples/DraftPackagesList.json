{
  "parameters": {
    "subscriptionId": "subscription-id",
    "resourceGroupName": "contoso-rg",
    "testBaseAccountName": "contoso-testBaseAccount",
    "api-version": "2023-01-15-preview"
  },
  "responses": {
    "200": {
      "body": {
        "value": [
          {
            "name": "61d99543-14ff-47ae-bf03-8a8b8445502e",
            "id": "/subscriptions/subscription-id/resourceGroups/contoso-rg/providers/Microsoft.MarcoHuangTest/testBaseAccounts/contoso-testBaseAccount/draftPackages/61d99543-14ff-47ae-bf03-8a8b8445502e",
            "type": "Microsoft.MarcoHuangTest/testBaseAccounts/draftpackages",
            "properties": {
              "applicationName": "contoso-package",
              "version": "1.0",
              "draftPackagePath": "de0418a4-90a2-448f-b009-237803458cca/0c3e17c3-f6ce-4b22-b1be-6363e23a1857/draftPackagePath",
              "workingPath": "de0418a4-90a2-448f-b009-237803458cca/0c3e17c3-f6ce-4b22-b1be-6363e23a1857/workingPath",
              "appFileName": "TestBaseM365DigitalClock.msi",
              "useSample": false,
              "sourceType": "Native",
              "testTool": "PowerShell",
              "testTypes": [
                "OutOfBoxTest",
                "FunctionalTest"
              ],
              "tests": [
                {
                  "testType": "OutOfBoxTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "install",
                      "action": "Install",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/install/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "launch",
                      "action": "Launch",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/launch/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "close",
                      "action": "Close",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/close/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "uninstall",
                      "action": "Uninstall",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/uninstall/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    }
                  ]
                },
                {
                  "testType": "FunctionalTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "script1",
                      "action": "Custom",
                      "contentType": "Path",
                      "content": "TestBaseM365DigitalClockApp/scripts/script1/job.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": true,
                      "testToolType": "PowerShell"
                    }
                  ]
                }
              ],
              "targetOSList": [
                {
                  "osUpdateType": "Security updates",
                  "targetOSs": [
                    "Windows 11 21H2",
                    "Windows 10 21H2",
                    "Windows 10 21H1"
                  ],
                  "baselineOSs": null
                },
                {
                  "osUpdateType": "Feature updates",
                  "targetOSs": [
                    "Windows 10 21H2"
                  ],
                  "baselineOSs": null
                }
              ],
              "flightingRing": "Insider Beta Channel",
              "packageTags": {},
              "lastModifiedTime": "2022-05-25T10:37:21.9576117Z"
            }
          },
          {
            "name": "34070901-fc0b-4459-b6de-4295b7c7bf19",
            "id": "/subscriptions/subscription-id/resourceGroups/contoso-rg/providers/Microsoft.MarcoHuangTest/testBaseAccounts/contoso-testBaseAccount/draftPackages/34070901-fc0b-4459-b6de-4295b7c7bf19",
            "type": "Microsoft.MarcoHuangTest/testBaseAccounts/draftpackages",
            "properties": {
              "applicationName": "contoso-package2",
              "version": "1.0",
              "draftPackagePath": "de0418a4-90a2-448f-b009-237803458cca/0671155c-45fc-4758-916e-bd13337ffb68/draftPackagePath",
              "workingPath": "de0418a4-90a2-448f-b009-237803458cca/0671155c-45fc-4758-916e-bd13337ffb68/workingPath",
              "appFileName": "contoso.intunewin",
              "useSample": true,
              "sourceType": "IntuneWin",
              "testTool": "PowerShell",
              "testTypes": [
                "OutOfBoxTest",
                "FunctionalTest"
              ],
              "intuneMetadata": {
                "intuneApp": {
                  "appName": "contoso",
                  "version": "1.0",
                  "appId": "4ae9a0c0-a7f5-4bd4-bf32-b61566eea954",
                  "createDate": "2022-03-16T07:12:19.8466431Z",
                  "dependentAppCount": 0,
                  "installCommand": "-exec install",
                  "uninstallCommand": "-exec uninstall",
                  "lastProcessed": 637890688335749600,
                  "dependencyIds": [],
                  "setupFile": "consoto.exe",
                  "status": "Ready"
                },
                "intuneAppDependencies": []
              },
              "tests": [
                {
                  "testType": "FunctionalTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "script1",
                      "action": "Custom",
                      "contentType": "Path",
                      "content": "scripts/functional/script1.ps1",
                      "runElevated": false,
                      "restartAfter": true,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": true,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "script2",
                      "action": "Custom",
                      "contentType": "Path",
                      "content": "scripts/functional/script2.ps1",
                      "runElevated": false,
                      "restartAfter": true,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    }
                  ]
                },
                {
                  "testType": "OutOfBoxTest",
                  "validationRunStatus": "Unknown",
                  "validationResultId": null,
                  "isActive": true,
                  "commands": [
                    {
                      "name": "install",
                      "action": "Install",
                      "contentType": "Path",
                      "content": "scripts/outofbox/install.ps1",
                      "runElevated": false,
                      "restartAfter": true,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "launch",
                      "action": "Launch",
                      "contentType": "Path",
                      "content": "scripts/outofbox/launch.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "close",
                      "action": "Close",
                      "contentType": "Path",
                      "content": "scripts/outofbox/close.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    },
                    {
                      "name": "uninstall",
                      "action": "Uninstall",
                      "contentType": "Path",
                      "content": "scripts/outofbox/uninstall.ps1",
                      "runElevated": false,
                      "restartAfter": false,
                      "maxRunTime": 0,
                      "runAsInteractive": false,
                      "alwaysRun": false,
                      "applyUpdateBefore": false,
                      "testToolType": "PowerShell"
                    }
                  ]
                }
              ],
              "targetOSList": [
                {
                  "osUpdateType": "Security updates",
                  "targetOSs": [
                    "Windows 10 21H1",
                    "Windows Server 2022"
                  ],
                  "baselineOSs": null
                }
              ],
              "flightingRing": "",
              "packageTags": {},
              "lastModifiedTime": "2022-05-27T10:11:55.4300989Z"
            }
          },
          {
            "name": "d0da5ac3-0536-43f3-bb03-74a201a907be",
            "id": "/subscriptions/subscription-id/resourceGroups/contoso-rg/providers/Microsoft.MarcoHuangTest/testBaseAccounts/contoso-testBaseAccount/draftPackages/d0da5ac3-0536-43f3-bb03-74a201a907be",
            "type": "Microsoft.MarcoHuangTest/testBaseAccounts/draftPackages",
            "properties": {
              "applicationName": "contoso-package3",
              "version": "1.0.0",
              "draftPackagePath": "2074769a-c08c-4eb8-9b6f-934763ed7892/3a938db9-8446-4eeb-953d-a864517357db/draftPackagePath",
              "workingPath": "2074769a-c08c-4eb8-9b6f-934763ed7892/3a938db9-8446-4eeb-953d-a864517357db/workingPath",
              "appFileName": "TestBaseM365DigitalClock.msi",
              "useSample": false,
              "sourceType": "Native",
              "testTool": "PowerShell",
              "testTypes": [
                "FlowDrivenTest"
              ],
              "inplaceUpgradeOSPair": {
                "osName": "Windows 10 22H2",
                "releaseProperties": {
                  "releaseName": "2022.10 B"
                },
                "customImageId": "image-2cfb2edc-13bc-4d54-8d6e-38b2a233b003"
              },
              "packageStatus": "Ready",
              "lastModifiedTime": "2022-12-28T17:30:00Z",
              "isEnabled": true,
              "blobPath": "storageAccountPath/package.zip",
              "validationResults": [
                {
                  "validationName": "Syntax Validation",
                  "isValid": true
                },
                {
                  "validationName": "Package Run Validation",
                  "isValid": true
                }
              ],
              "tests": [
                {
                  "testType": "FlowDrivenTest",
                  "validationRunStatus": "Passed",
                  "validationResultId": "/subscriptions/476f61a4-952c-422a-b4db-568a828f35df/resourceGroups/contoso-rg1/providers/Microsoft.MarcoHuangTest/testBaseAccounts/contoso-testBaseAccount1/packages/contoso-package2/testResults/TestResult-51d71a5f-e012-4192-88f7-bd12e0bac2b0",
                  "isActive": true,
                  "commands": [
                    {
                      "name": "install",
                      "action": "FlowDrivenCustom",
                      "contentType": "Path",
                      "content": "app/scripts/install.ps1",
                      "restartAfter": true,
                      "preUpgrade": true
                    },
                    {
                      "name": "Launch",
                      "action": "Launch",
                      "contentType": "Path",
                      "content": "app/scripts/launch/job.ps1",
                      "restartAfter": false,
                      "postUpgrade": true
                    }
                  ]
                }
              ],
              "packageTags": {}
            }
          }
        ]
      }
    }
  }
}
