{
  "parameters": {
    "api-version": "2021-04-01-preview",
    "subscriptionId": "subid",
    "resourceGroupName": "rg1",
    "mobileNetworkName": "testMobileNetwork",
    "serviceName": "TestService",
    "parameters": {
      "properties": {
        "serviceName": "TestService",
        "servicePrecedence": 255,
        "serviceQosPolicy": {
          "5qi": 9,
          "allocationAndRetentionPriorityLevel": 9,
          "preemptionCapability": "NOT_PREEMPT",
          "preemptionVulnerability": "PREEMPTABLE"
        },
        "pccRules": [
          {
            "ruleName": "Default rule",
            "rulePrecedence": 255,
            "ruleQosPolicy": {
              "5qi": 9,
              "allocationAndRetentionPriorityLevel": 9,
              "preemptionCapability": "NOT_PREEMPT",
              "preemptionVulnerability": "PREEMPTABLE"
            },
            "trafficControl": "ENABLED",
            "serviceDataFlowTemplates": [
              {
                "templateName": "IP to server",
                "direction": "UPLINK",
                "protocol": [
                  "ip"
                ],
                "remoteIpList": [
                  "10.3.4.0/24"
                ],
                "ports": [
                  "any"
                ]
              }
            ]
          }
        ]
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "name": "testPolicy",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetwork/testMobileNetwork/services/TestService",
        "type": "Microsoft.MobileNetwork/service",
        "properties": {
          "provisioningState": "Succeeded",
          "serviceName": "TestService",
          "servicePrecedence": 255,
          "serviceQosPolicy": {
            "5qi": 9,
            "allocationAndRetentionPriorityLevel": 9,
            "preemptionCapability": "NOT_PREEMPT",
            "preemptionVulnerability": "PREEMPTABLE"
          },
          "pccRules": [
            {
              "ruleName": "Default rule",
              "rulePrecedence": 255,
              "ruleQosPolicy": {
                "5qi": 9,
                "allocationAndRetentionPriorityLevel": 9,
                "preemptionCapability": "NOT_PREEMPT",
                "preemptionVulnerability": "PREEMPTABLE"
              },
              "trafficControl": "ENABLED",
              "serviceDataFlowTemplates": [
                {
                  "templateName": "IP to server",
                  "direction": "UPLINK",
                  "protocol": [
                    "ip"
                  ],
                  "remoteIpList": [
                    "10.3.4.0/24"
                  ],
                  "ports": [
                    "any"
                  ]
                }
              ]
            }
          ]
        }
      }
    },
    "201": {
      "body": {
        "name": "testPolicy",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobileNetwork/mobileNetwork/testMobileNetwork/services/TestService",
        "type": "Microsoft.MobileNetwork/service",
        "properties": {
          "provisioningState": "Accepted",
          "serviceName": "TestService",
          "servicePrecedence": 255,
          "serviceQosPolicy": {
            "5qi": 9,
            "allocationAndRetentionPriorityLevel": 9,
            "preemptionCapability": "NOT_PREEMPT",
            "preemptionVulnerability": "PREEMPTABLE"
          },
          "pccRules": [
            {
              "ruleName": "Default rule",
              "rulePrecedence": 255,
              "ruleQosPolicy": {
                "5qi": 9,
                "allocationAndRetentionPriorityLevel": 9,
                "preemptionCapability": "NOT_PREEMPT",
                "preemptionVulnerability": "PREEMPTABLE"
              },
              "trafficControl": "ENABLED",
              "serviceDataFlowTemplates": [
                {
                  "templateName": "IP to server",
                  "direction": "UPLINK",
                  "protocol": [
                    "ip"
                  ],
                  "remoteIpList": [
                    "10.3.4.0/24"
                  ],
                  "ports": [
                    "any"
                  ]
                }
              ]
            }
          ]
        }
      }
    }
  }
}
