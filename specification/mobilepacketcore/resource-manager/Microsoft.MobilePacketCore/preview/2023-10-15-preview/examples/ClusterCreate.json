{
  "parameters": {
    "api-version": "2023-10-15-preview",
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "resourceGroupName": "rg1",
    "mobilePacketCoreName": "testMobilePacketCore",
    "nfviName": "testNfvi",
    "clusterName": "testCluster",
    "parameters": {
      "properties": {
        "customLocationReference": {
          "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobilePacketCore/mobilePacketCores/testMobilePacketCore/resourceType/resourceName"
        },
        "connectedClusterReference": {
          "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobilePacketCore/mobilePacketCores/testMobilePacketCore/resourceType/resourceName"
        },
        "clusterUsage": "NetworkFunctions",
        "clusterType": "Aks",
        "storage": {
          "serverIp": {
            "ipv4": "1.1.1.1",
            "ipv6": "ffee::"
          },
          "filePath": "string"
        },
        "managementIpPools": [
          {
            "startIp": {
              "ipv4": "1.1.1.1"
            },
            "endIp": {
              "ipv4": "1.1.1.255"
            },
            "aksPoolParameters": {
              "subnetName": "string",
              "subnetUsage": [
                "OAM"
              ]
            }
          }
        ],
        "userDataIpPools": [
          {
            "networkContextName": "string",
            "usage": [
              "User"
            ],
            "startIp": {
              "ipv4": "1.1.1.1"
            },
            "endIp": {
              "ipv4": "1.1.1.255"
            },
            "tag": "enterprise A"
          }
        ],
        "dataNetworkAccessIdentifierList": [
          {
            "dataNetwork": "/subscriptions/xxxx-xxxx-xxxx-xxxx/resourceGroups/example-rg/providers/Microsoft.MobilePacketCore/mobilePacketCores/exampleMpc/dataNetworks/exampleDataNetwork",
            "dataNetworkAccessIdentifiers": [
              {
                "name": "string"
              }
            ]
          }
        ],
        "locality": "string",
        "preferredLocality": "string",
        "safeDeploymentGroup": "string"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "name": "testCluster",
        "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobilePacketCore/mobilePacketCores/testMobilePacketCore/nfvis/testNfvi/clusters/testCluster",
        "type": "Microsoft.MobilePacketCore/mobilePacketCores/nfvis/clusters",
        "systemData": {
          "createdBy": "user1",
          "createdByType": "User",
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z"
        },
        "properties": {
          "provisioningState": "Succeeded",
          "customLocationReference": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobilePacketCore/mobilePacketCores/testMobilePacketCore/resourceType/resourceName"
          },
          "connectedClusterReference": {
            "id": "/subscriptions/subid/resourceGroups/rg1/providers/Microsoft.MobilePacketCore/mobilePacketCores/testMobilePacketCore/resourceType/resourceName"
          },
          "clusterUsage": "NetworkFunctions",
          "clusterType": "Aks",
          "storage": {
            "serverIp": {
              "ipv4": "1.1.1.1",
              "ipv6": "ffee::"
            },
            "filePath": "string"
          },
          "managementIpPools": [
            {
              "startIp": {
                "ipv4": "1.1.1.1"
              },
              "endIp": {
                "ipv4": "1.1.1.255"
              },
              "aksPoolParameters": {
                "subnetName": "mgmt",
                "subnetUsage": [
                  "OAM"
                ]
              },
              "allocations": [
                {
                  "usage": "MGMT Endpoint",
                  "startIp": {
                    "ipv4": "1.1.1.1"
                  },
                  "endIp": {
                    "ipv4": "1.1.1.2"
                  }
                }
              ]
            }
          ],
          "userDataIpPools": [
            {
              "networkContextName": "N3",
              "usage": [
                "User"
              ],
              "startIp": {
                "ipv4": "1.1.1.1"
              },
              "endIp": {
                "ipv4": "1.1.1.255"
              },
              "tag": "enterprise A",
              "allocations": [
                {
                  "usage": "User IPs",
                  "startIp": {
                    "ipv4": "1.1.1.1"
                  },
                  "endIp": {
                    "ipv4": "1.1.3.255"
                  }
                }
              ]
            }
          ],
          "dataNetworkAccessIdentifierList": [
            {
              "dataNetwork": "/subscriptions/xxxx-xxxx-xxxx-xxxx/resourceGroups/example-rg/providers/Microsoft.MobilePacketCore/mobilePacketCores/exampleMpc/dataNetworks/exampleDataNetwork",
              "dataNetworkAccessIdentifiers": [
                {
                  "name": "string"
                }
              ]
            }
          ],
          "locality": "string",
          "preferredLocality": "string",
          "safeDeploymentGroup": "string"
        }
      }
    }
  }
}
