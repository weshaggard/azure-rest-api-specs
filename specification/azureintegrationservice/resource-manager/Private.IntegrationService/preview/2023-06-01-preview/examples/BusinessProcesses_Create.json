{
  "operationId": "BusinessProcesses_Create",
  "title": "CreateBusinessProcess",
  "parameters": {
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "resourceGroupName": "testrg",
    "api-version": "2023-06-01-preview",
    "spaceName": "Space1",
    "applicationName": "Application1",
    "businessProcessName": "BusinessProcess1",
    "resource": {
      "properties": {
        "description": "First Business Process",
        "draftBusinessProcess": {
          "isDeployed": false,
          "identifier": {
            "propertyName": "businessIdentifier-1",
            "propertyType": "string"
          },
          "businessProcessStages": {
            "Received": {
              "properties": {
                "Product": "String",
                "Quantity": "Integer",
                "State": "String",
                "City": "String"
              },
              "description": "received"
            },
            "Processing": {
              "properties": {
                "ApprovalState": "String",
                "ApproverName": "String",
                "POAmount": "Integer"
              },
              "description": "Processing",
              "stagesBefore": [
                "Received"
              ]
            },
            "Denied": {
              "description": "Denied",
              "stagesBefore": [
                "Processing"
              ]
            },
            "Shipped": {
              "properties": {
                "TrackingID": "Integer",
                "ShipPriority": "Integer"
              },
              "description": "Shipped",
              "stagesBefore": [
                "Denied"
              ]
            },
            "Completed": {
              "description": "Completed",
              "stagesBefore": [
                "Shipped"
              ]
            }
          },
          "businessProcessMapping": {
            "Received": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "PurchaseOrder",
              "operationType": "trigger",
              "operationName": "manual"
            },
            "Processing": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "PurchaseOrder",
              "operationType": "action",
              "operationName": "ApprovedPO"
            },
            "Shipped": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "Fulfillment",
              "operationType": "action",
              "operationName": "ShippedPO"
            },
            "Denied": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "Fulfillment",
              "operationType": "action",
              "operationName": "DeniedPO"
            },
            "Completed": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "Fulfillment",
              "operationType": "action",
              "operationName": "CompletedPO"
            }
          },
          "trackingProfiles": {
            "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1": {
              "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2023-01-01/trackingdefinitionschema.json#",
              "businessProcess": {
                "name": "BusinessProcess1",
                "version": "d52c9c91-6e10-4a90-9c1f-08ee5d01c656"
              },
              "trackingDefinitions": {
                "PurchaseOrder": {
                  "correlationContext": {
                    "operationType": "trigger",
                    "operationName": "manual",
                    "propertyName": "OrderNumber",
                    "value": "@trigger().outputs.body.OrderNumber"
                  },
                  "events": {
                    "Received": {
                      "operationType": "trigger",
                      "operationName": "manual",
                      "properties": {
                        "Product": "@trigger().outputs.body.Product",
                        "Quantity": "@trigger().outputs.body.Quantity",
                        "State": "@trigger().outputs.body.Address.State",
                        "City": "@trigger().outputs.body.Address.City"
                      }
                    },
                    "Processing": {
                      "operationType": "action",
                      "operationName": "ApprovedPO",
                      "properties": {
                        "ApprovalStatus": "@action().inputs.ApprovalStatus",
                        "ApproverName": "@action().inputs.ApproverName",
                        "POAmount": "@action().inputs.POamount"
                      }
                    }
                  }
                },
                "Fulfillment": {
                  "correlationContext": {
                    "operationType": "trigger",
                    "operationName": "manual",
                    "propertyName": "OrderNumber",
                    "value": "@trigger().outputs.body.OrderNumber"
                  },
                  "events": {
                    "Shipped": {
                      "operationType": "action",
                      "operationName": "ShippedPO",
                      "properties": {
                        "TrackingID": "@action().inputs.trackingID",
                        "ShipPriority": "@action().inputs.shipPriority"
                      }
                    },
                    "Denied": {
                      "operationType": "action",
                      "operationName": "DeniedPO",
                      "properties": {}
                    },
                    "Completed": {
                      "operationType": "action",
                      "operationName": "CompletedPO",
                      "properties": {}
                    }
                  }
                }
              }
            }
          }
        },
        "identifier": {
          "propertyName": "businessIdentifier-1",
          "propertyType": "string"
        },
        "businessProcessStages": {
          "Received": {
            "properties": {
              "Product": "String",
              "Quantity": "Integer",
              "State": "String",
              "City": "String"
            },
            "description": "received"
          },
          "Processing": {
            "properties": {
              "ApprovalState": "String",
              "ApproverName": "String",
              "POAmount": "Integer"
            },
            "description": "Processing",
            "stagesBefore": [
              "Received"
            ]
          },
          "Denied": {
            "description": "Denied",
            "stagesBefore": [
              "Processing"
            ]
          },
          "Shipped": {
            "properties": {
              "TrackingID": "Integer",
              "ShipPriority": "Integer"
            },
            "description": "Shipped",
            "stagesBefore": [
              "Denied"
            ]
          },
          "Completed": {
            "description": "Completed",
            "stagesBefore": [
              "Shipped"
            ]
          }
        },
        "businessProcessMapping": {
          "Received": {
            "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
            "workflowName": "PurchaseOrder",
            "operationType": "trigger",
            "operationName": "manual"
          },
          "Processing": {
            "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
            "workflowName": "PurchaseOrder",
            "operationType": "action",
            "operationName": "ApprovedPO"
          },
          "Shipped": {
            "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
            "workflowName": "Fulfillment",
            "operationType": "action",
            "operationName": "ShippedPO"
          },
          "Denied": {
            "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
            "workflowName": "Fulfillment",
            "operationType": "action",
            "operationName": "DeniedPO"
          },
          "Completed": {
            "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
            "workflowName": "Fulfillment",
            "operationType": "action",
            "operationName": "CompletedPO"
          }
        },
        "trackingDataStoreReferenceName": "trackingDataStoreReferenceName1"
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/testrg/providers/Private.IntegrationService/spaces/Space1/applications/Application1/BusinessProcesses/BusinessProcess1",
        "name": "BusinessProcess1",
        "type": "Private.IntegrationService/spaces/applications/businessProcesses",
        "properties": {
          "provisioningState": "Succeeded",
          "description": "First Business Process",
          "draftBusinessProcess": {
            "isDeployed": false,
            "identifier": {
              "propertyName": "businessIdentifier-1",
              "propertyType": "string"
            },
            "businessProcessStages": {
              "Received": {
                "properties": {
                  "Product": "String",
                  "Quantity": "Integer",
                  "State": "String",
                  "City": "String"
                },
                "description": "received"
              },
              "Processing": {
                "properties": {
                  "ApprovalState": "String",
                  "ApproverName": "String",
                  "POAmount": "Integer"
                },
                "description": "Processing",
                "stagesBefore": [
                  "Received"
                ]
              },
              "Denied": {
                "description": "Denied",
                "stagesBefore": [
                  "Processing"
                ]
              },
              "Shipped": {
                "properties": {
                  "TrackingID": "Integer",
                  "ShipPriority": "Integer"
                },
                "description": "Shipped",
                "stagesBefore": [
                  "Denied"
                ]
              },
              "Completed": {
                "description": "Completed",
                "stagesBefore": [
                  "Shipped"
                ]
              }
            },
            "businessProcessMapping": {
              "Received": {
                "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
                "workflowName": "PurchaseOrder",
                "operationType": "trigger",
                "operationName": "manual"
              },
              "Processing": {
                "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
                "workflowName": "PurchaseOrder",
                "operationType": "action",
                "operationName": "ApprovedPO"
              },
              "Shipped": {
                "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
                "workflowName": "Fulfillment",
                "operationType": "action",
                "operationName": "ShippedPO"
              },
              "Denied": {
                "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
                "workflowName": "Fulfillment",
                "operationType": "action",
                "operationName": "DeniedPO"
              },
              "Completed": {
                "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
                "workflowName": "Fulfillment",
                "operationType": "action",
                "operationName": "CompletedPO"
              }
            },
            "trackingProfiles": {
              "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1": {
                "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2023-01-01/trackingdefinitionschema.json#",
                "businessProcess": {
                  "name": "BusinessProcess1",
                  "version": "d52c9c91-6e10-4a90-9c1f-08ee5d01c656"
                },
                "trackingDefinitions": {
                  "PurchaseOrder": {
                    "correlationContext": {
                      "operationType": "trigger",
                      "operationName": "manual",
                      "propertyName": "OrderNumber",
                      "value": "@trigger().outputs.body.OrderNumber"
                    },
                    "events": {
                      "Received": {
                        "operationType": "trigger",
                        "operationName": "manual",
                        "properties": {
                          "Product": "@trigger().outputs.body.Product",
                          "Quantity": "@trigger().outputs.body.Quantity",
                          "State": "@trigger().outputs.body.Address.State",
                          "City": "@trigger().outputs.body.Address.City"
                        }
                      },
                      "Processing": {
                        "operationType": "action",
                        "operationName": "ApprovedPO",
                        "properties": {
                          "ApprovalStatus": "@action().inputs.ApprovalStatus",
                          "ApproverName": "@action().inputs.ApproverName",
                          "POAmount": "@action().inputs.POamount"
                        }
                      }
                    }
                  },
                  "Fulfillment": {
                    "correlationContext": {
                      "operationType": "trigger",
                      "operationName": "manual",
                      "propertyName": "OrderNumber",
                      "value": "@trigger().outputs.body.OrderNumber"
                    },
                    "events": {
                      "Shipped": {
                        "operationType": "action",
                        "operationName": "ShippedPO",
                        "properties": {
                          "TrackingID": "@action().inputs.trackingID",
                          "ShipPriority": "@action().inputs.shipPriority"
                        }
                      },
                      "Denied": {
                        "operationType": "action",
                        "operationName": "DeniedPO",
                        "properties": {}
                      },
                      "Completed": {
                        "operationType": "action",
                        "operationName": "CompletedPO",
                        "properties": {}
                      }
                    }
                  }
                }
              }
            }
          },
          "identifier": {
            "propertyName": "businessIdentifier-1",
            "propertyType": "string"
          },
          "businessProcessStages": {
            "Received": {
              "properties": {
                "Product": "String",
                "Quantity": "Integer",
                "State": "String",
                "City": "String"
              },
              "description": "received"
            },
            "Processing": {
              "properties": {
                "ApprovalState": "String",
                "ApproverName": "String",
                "POAmount": "Integer"
              },
              "description": "Processing",
              "stagesBefore": [
                "Received"
              ]
            },
            "Denied": {
              "description": "Denied",
              "stagesBefore": [
                "Processing"
              ]
            },
            "Shipped": {
              "properties": {
                "TrackingID": "Integer",
                "ShipPriority": "Integer"
              },
              "description": "Shipped",
              "stagesBefore": [
                "Denied"
              ]
            },
            "Completed": {
              "description": "Completed",
              "stagesBefore": [
                "Shipped"
              ]
            }
          },
          "businessProcessMapping": {
            "Received": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "PurchaseOrder",
              "operationType": "trigger",
              "operationName": "manual"
            },
            "Processing": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "PurchaseOrder",
              "operationType": "action",
              "operationName": "ApprovedPO"
            },
            "Shipped": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "Fulfillment",
              "operationType": "action",
              "operationName": "ShippedPO"
            },
            "Denied": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "Fulfillment",
              "operationType": "action",
              "operationName": "DeniedPO"
            },
            "Completed": {
              "logicAppResourceId": "subscriptions/sub1/resourcegroups/group1/providers/Microsoft.Web/sites/logicApp1",
              "workflowName": "Fulfillment",
              "operationType": "action",
              "operationName": "CompletedPO"
            }
          },
          "trackingDataStoreReferenceName": "trackingDataStoreReferenceName1"
        }
      }
    }
  }
}
